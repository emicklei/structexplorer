{{define "struct"}}
<div class="col">
    {{ if ne .Type "" }}
        <div class="path" title="{{.Path}}">{{.Label}}</div>
        <div class="typename">{{.Type}}</div>
        <select id="{{.SelectID}}" multiple size="{{.SelectSize}}">
            {{ range .Fields }}
                {{ $fv := fieldvalue . }}
                {{ if includeField . $fv }}
                    <option value="{{.Name}}">{{.Name}}:{{ $fv }}</option>
                {{ end }}
            {{ end }}
        </select>
        <div style="display: block;margin-top: 4px;">
            <button onclick="javascript:explore({{.Row}},{{.Column}},getElementById('{{.SelectID}}'),'down');">&darr;&darr;</button> 
            <button onclick="javascript:explore({{.Row}},{{.Column}},getElementById('{{.SelectID}}'),'right');">&rarr;&rarr;</button>
            <button onclick="javascript:explore({{.Row}},{{.Column}},getElementById('{{.SelectID}}'),'toggleNils');">nil</button>
            <button onclick="javascript:explore({{.Row}},{{.Column}},getElementById('{{.SelectID}}'),'remove');">X</button>            
        </div>
    {{ end }}
</div>
{{end}}

<html>

<head>
    <script>{{.Script}}</script>
    <style>{{.Style}}</style>
</head>

<body>
    <table>
        {{- range .Rows }}
        <tr>
            {{- range .Cells}}
            <td>
                {{ template "struct" . }}
            </td>
            {{- end }}
        </tr>    
        {{- end }}     
    </table>

</body>

</html>